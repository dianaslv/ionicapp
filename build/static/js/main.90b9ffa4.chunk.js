(this.webpackJsonpmyApp=this.webpackJsonpmyApp||[]).push([[1],{117:function(e,t,n){},118:function(e,t,n){var a={"./pwa-action-sheet.entry.js":[171,59],"./pwa-camera-modal-instance.entry.js":[172,60],"./pwa-camera-modal.entry.js":[173,61],"./pwa-camera.entry.js":[174,62],"./pwa-toast.entry.js":[175,63]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=118,e.exports=r},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),c=n.n(o),i=n(25),u=n(3),s=n(69),l=n(2),f=n.n(l),d=n(4),p=n(13),v=n(16),m=function(e){var t=e._id,n=e.text,a=e.breed,o=e.photos,c=e.onEdit;return r.a.createElement(u.o,{onClick:function(){return c(t)}},r.a.createElement(u.p,null,n),r.a.createElement(u.p,null,a),r.a.createElement(u.j,null,r.a.createElement(u.v,null,o.map((function(e,t){return r.a.createElement(u.f,{size:"6",key:t},r.a.createElement(u.m,{src:e.webviewPath}))})))))},h="192.168.1.3:3001",E=function(e){return function(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=console).log.apply(t,[e].concat(a))}},b=E("api");function j(e,t){return b("".concat(t," - started")),e.then((function(e){return b("".concat(t," - succeeded")),Promise.resolve(e.data)})).catch((function(e){return b("".concat(t," - failed")),Promise.reject(e)}))}var g={headers:{"Content-Type":"application/json"}},O=function(e){return{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}},y=n(29),k=n(6),w=n(33),x=n.n(w),S="http://".concat(h,"/api/item"),_=function(e){return j(x.a.get(S,O(e)),"getItems")},C=function(e,t){return j(x.a.post(S,t,O(e)),"createItem")},A=function(e,t){return j(x.a.put("".concat(S,"/").concat(t._id),t,O(e)),"updateItem")},D=E("ws"),I="http://".concat(h,"/api/auth/login"),T=function(e,t){return j(x.a.post(I,{username:e,password:t},g),"login")},P=n(14),N=E("AuthProvider"),F={isAuthenticated:!1,isAuthenticating:!1,authenticationError:null,pendingAuthentication:!1,tokenFound:!1,username:"",storage:P.f},M=r.a.createContext(F),U=function(e){var t=e.children,n=Object(a.useState)(F),o=Object(p.a)(n,2),c=o[0],i=o[1],u=c.isAuthenticated,s=c.tokenFound,l=c.isAuthenticating,v=c.authenticationError,m=c.pendingAuthentication,h=c.username,E=c.password,b=P.f,j=Object(a.useCallback)((function(e,t){return w.apply(this,arguments)}),[]),g=Object(a.useCallback)((function(){return y.apply(this,arguments)}),[]);Object(a.useEffect)((function(){var e=!1;return function(){t.apply(this,arguments)}(),function(){e=!0};function t(){return(t=Object(d.a)(f.a.mark((function t(){var n,a,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=3;break}return N("authenticate, !pendingAuthentication, return"),t.abrupt("return");case 3:if(t.prev=3,N("authenticate..."),i(Object(k.a)(Object(k.a)({},c),{},{isAuthenticating:!0})),!e){t.next=8;break}return t.abrupt("return");case 8:return n=c.username,a=c.password,t.next=11,T(n,a);case 11:return r=t.sent,o=r.token,t.next=15,b.set({key:"token",value:o});case 15:N("authenticate succeeded"),i(Object(k.a)(Object(k.a)({},c),{},{pendingAuthentication:!1,isAuthenticated:!0,isAuthenticating:!1,tokenFound:!0})),t.next=25;break;case 19:if(t.prev=19,t.t0=t.catch(3),!e){t.next=23;break}return t.abrupt("return");case 23:N("authenticate failed"),i(Object(k.a)(Object(k.a)({},c),{},{authenticationError:t.t0,pendingAuthentication:!1,isAuthenticating:!1,tokenFound:!1}));case 25:case"end":return t.stop()}}),t,null,[[3,19]])})))).apply(this,arguments)}}),[m]),Object(a.useEffect)((function(){b.get({key:"token"}).then(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),t.value&&i(Object(k.a)(Object(k.a)({},c),{},{pendingAuthentication:!1,username:h,password:E,isAuthenticated:!0,isAuthenticating:!1,tokenFound:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var O={username:h,isAuthenticated:u,tokenFound:s,login:j,logout:g,isAuthenticating:l,authenticationError:v,storage:b,password:E};return N("render"),r.a.createElement(M.Provider,{value:O},t);function y(){return(y=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.clear();case 2:i(Object(k.a)(Object(k.a)({},c),{},{isAuthenticated:!1,isAuthenticating:!1,authenticationError:null,pendingAuthentication:!1,username:"",password:"",tokenFound:!1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N("login"),s||i(Object(k.a)(Object(k.a)({},c),{},{pendingAuthentication:!0,username:t,password:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},L=n(75),J=E("Login"),R=function(e){var t=e.component,n=Object(L.a)(e,["component"]),o=Object(a.useContext)(M).isAuthenticated;return J("render, isAuthenticated",o),r.a.createElement(i.b,Object.assign({},n,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login"}})}}))},B=P.e.App,V={isActive:!0},z=P.e.Network,H={connected:!1,connectionType:"unknown"},W=function(){var e=Object(a.useState)(H),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=z.addListener("networkStatusChange",n);z.getStatus().then(n);var t=!1;return function(){t=!0,e.remove()};function n(e){console.log("useNetwork - status change",e),t||r(e)}}),[]),{networkStatus:n}},q=P.e.BackgroundTask,K=function(e){return Object(a.useEffect)((function(){var t=q.beforeExit(Object(d.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("useBackgroundTask - executeTask started"),n.next=3,e();case 3:console.log("useBackgroundTask - executeTask finished"),q.finish({taskId:t});case 5:case"end":return n.stop()}}),n)}))))}),[]),{}},$=E("Login"),G=function(e){e.history;var t=Object(a.useContext)(M),n=t.isAuthenticated,o=t.isAuthenticating,c=t.login,s=t.authenticationError,l=Object(a.useState)({}),f=Object(p.a)(l,2),d=f[0],v=f[1],m=Object(a.useState)(!1),h=Object(p.a)(m,2),E=h[0],b=h[1],j=d.username,g=d.password,O=function(){var e=Object(a.useState)(V),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=B.addListener("appStateChange",n);B.getState().then(n);var t=!1;return function(){t=!0,e.remove()};function n(e){console.log("useAppState - state change",e),t||r(e)}}),[]),{appState:n}}().appState,y=W().networkStatus;K((function(){return new Promise((function(e){console.log("My Background Task"),e()}))}));return $("render"),n?(console.log("IT IS AUTHEN"),r.a.createElement(i.a,{to:{pathname:"/"}})):r.a.createElement(u.s,null,r.a.createElement(u.k,null,r.a.createElement(u.A,null,r.a.createElement(u.z,null,"Login"))),r.a.createElement(u.g,null,r.a.createElement(u.d,{onClick:function(){return b(!0)},expand:"block"},"Show Alert 1"),r.a.createElement(u.b,{isOpen:E,onDidDismiss:function(){return b(!1)},header:"App state & Network status",message:"App state is  ".concat(JSON.stringify(O),".Network status is ").concat(JSON.stringify(y)," "),buttons:["OK"]}),r.a.createElement("div",null,"App state is ",JSON.stringify(O)),r.a.createElement("div",null,"Network status is ",JSON.stringify(y)),r.a.createElement(u.n,{placeholder:"Username",value:j,onIonChange:function(e){return v(Object(k.a)(Object(k.a)({},d),{},{username:e.detail.value||""}))}}),r.a.createElement(u.n,{placeholder:"Password",value:g,onIonChange:function(e){return v(Object(k.a)(Object(k.a)({},d),{},{password:e.detail.value||""}))}}),r.a.createElement(u.r,{isOpen:o}),s&&r.a.createElement("div",null,s.message||"Failed to authenticate"),r.a.createElement(u.d,{onClick:function(){$("handleLogin..."),null===c||void 0===c||c(j,g)}},"Login")))},Q=n(72),X=n(76),Y=n(52),Z=n(77);function ee(){var e=Object(X.a)().getPhoto,t=Object(a.useState)([]),n=Object(p.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)([]),i=Object(p.a)(c,2),u=i[0],s=i[1],l=function(){var t=Object(d.a)(f.a.mark((function t(){var n,a,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({resultType:P.a.Uri,source:P.b.Camera,quality:100});case 2:return n=t.sent,a=(new Date).getTime()+".jpeg",t.next=6,b(n,a);case 6:r=t.sent,o=[r].concat(Object(y.a)(u)),s(o);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=Object(Y.b)(),m=v.deleteFile,h=v.readFile,E=v.writeFile,b=function(){var e=Object(d.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)(t.webPath);case 2:return a=e.sent,e.next=5,E({path:n,data:a,directory:P.d.Data});case 5:return e.abrupt("return",{idItem:"",filepath:n,webviewPath:t.webPath});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=Object(Z.a)(),g=j.get,O=j.set;return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,a,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("photos");case 2:t=e.sent,n=t?JSON.parse(t):[],a=Object(Q.a)(n),e.prev=5,a.s();case 7:if((r=a.n()).done){e.next=15;break}return c=r.value,e.next=11,h({path:c.filepath,directory:P.d.Data});case 11:i=e.sent,c.webviewPath="data:image/jpeg;base64,".concat(i.data);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:o(n),console.log(n);case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(){return e.apply(this,arguments)}})()()}),[g,h]),{deletePhoto:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.filter((function(e){return e.filepath!==t.filepath})),O("photos",JSON.stringify(n)),a=t.filepath.substr(t.filepath.lastIndexOf("/")+1),e.next=5,m({path:a,directory:P.d.Data});case 5:o(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tempPhotos:u,photos:r,takePhoto:l,setPhotosForItem:function(e){var t=[];u.map((function(n){var a={idItem:e,filepath:n.filepath,webviewPath:n.webviewPath};t.push(a)}));var n=[].concat(t,Object(y.a)(r));O("photos",JSON.stringify(n)),s([]),o(n)}}}var te=E("ItemProvider"),ne={fetching:!1,saving:!1,unsavedData:[]},ae=function(e,t){var n=t.type,a=t.payload;switch(n){case"FETCH_ITEMS_STARTED":return Object(k.a)(Object(k.a)({},e),{},{fetching:!0,fetchingError:null});case"FETCH_ITEMS_SUCCEEDED":return Object(k.a)(Object(k.a)({},e),{},{items:a.items,fetching:!1});case"FETCH_ITEMS_FAILED":return Object(k.a)(Object(k.a)({},e),{},{fetchingError:a.error,fetching:!1});case"SAVE_ITEM_STARTED":return Object(k.a)(Object(k.a)({},e),{},{savingError:null,saving:!0});case"SAVE_ITEM_SUCCEEDED":var r=Object(y.a)(e.items||[]),o=a.item,c=r.findIndex((function(e){return e._id===o._id}));return-1===c?r.splice(0,0,o):r[c]=o,Object(k.a)(Object(k.a)({},e),{},{items:r,saving:!1});case"CLEAN_UNPROCESSED_ITEMS":return Object(k.a)(Object(k.a)({},e),{},{unsavedData:[],saving:!1});case"SAVE_ITEM_FAILED":return Object(k.a)(Object(k.a)({},e),{},{savingError:a.error,saving:!1});case"SAVE_UNPROCESSED_ITEM":var i=Object(y.a)(e.unsavedData||[]);return i.push(a.item),console.log("SAVE_UNPROCESSED_ITEM"),console.log({unsavedData:i}),Object(k.a)(Object(k.a)({},e),{},{unsavedData:i,saving:!1});default:return e}},re=r.a.createContext(ne),oe=function(e){var t=e.children,n=Object(a.useContext)(M),o=n.storage,c=n.tokenFound,i=Object(a.useReducer)(ae,ne),u=Object(p.a)(i,2),s=u[0],l=u[1],v=s.items,m=s.fetching,E=s.fetchingError,b=s.saving,j=s.savingError,g=s.unsavedData,O=W().networkStatus,y=ee().setPhotosForItem;K((function(){return new Promise(function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(O.connected),!O.connected){e.next=11;break}return e.next=4,o.get({key:"token"});case 4:n=e.sent,console.log({unsavedData:g}),null===g||void 0===g||g.map(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._id?A(null===n||void 0===n?void 0:n.value,t):C(null===n||void 0===n?void 0:n.value,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l({type:"CLEAN_UNPROCESSED_ITEMS"}),console.log({unsavedData:g}),console.log("My Background Task"),t();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Object(a.useEffect)((function(){var e=!1;return console.log("hey from here"),function(){t.apply(this,arguments)}(),function(){e=!0};function t(){return(t=Object(d.a)(f.a.mark((function t(){var n,a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get({key:"token"});case 2:if(a=t.sent,console.log(a),null===a||void 0===a||null===(n=a.value)||void 0===n?void 0:n.trim()){t.next=6;break}return t.abrupt("return");case 6:if(t.prev=6,!(null===a||void 0===a?void 0:a.value)){t.next=20;break}return te("fetchItems started"),l({type:"FETCH_ITEMS_STARTED"}),t.next=12,_(null===a||void 0===a?void 0:a.value);case 12:if(r=t.sent,console.log(r,JSON.stringify(r)),te("fetchItems succeeded"),e){t.next=20;break}return console.log(r),t.next=19,o.set({key:"items",value:JSON.stringify(r)});case 19:l({type:"FETCH_ITEMS_SUCCEEDED",payload:{items:r}});case 20:t.next=29;break;case 22:return t.prev=22,t.t0=t.catch(6),te("fetchItems failed"),t.next=27,o.get({key:"items"});case 27:c=t.sent,l(void 0===c?{type:"FETCH_ITEMS_SUCCEEDED",payload:[]}:{type:"FETCH_ITEMS_SUCCEEDED",payload:{itemsStorage:c}});case 29:case"end":return t.stop()}}),t,null,[[6,22]])})))).apply(this,arguments)}}),[o,c]),Object(a.useEffect)((function(){o.get({key:"token"}).then((function(e){var t,n,a=!1;return te("wsEffect - connecting"),(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.trim())&&(n=function(e,t){var n=new WebSocket("ws://".concat(h));return n.onopen=function(){D("web socket onopen"),n.send(JSON.stringify({type:"authorization",payload:{token:e}}))},n.onclose=function(){D("web socket onclose")},n.onerror=function(e){D("web socket onerror",e)},n.onmessage=function(e){D("web socket onmessage"),t(JSON.parse(e.data))},function(){n.close()}}(null===e||void 0===e?void 0:e.value,(function(e){if(!a){var t=e.type,n=e.payload;te("ws message, item ".concat(t)),"created"!==t&&"updated"!==t||l({type:"SAVE_ITEM_SUCCEEDED",payload:{item:n}})}}))),function(){var e;te("wsEffect - disconnecting"),a=!0,null===(e=n)||void 0===e||e()}}))}),[o,c]);var k={items:v,fetching:m,fetchingError:E,saving:b,savingError:j,saveItem:Object(a.useCallback)((function(e){return w.apply(this,arguments)}),[o,c]),storage:o,unsavedData:g,clearUnsavedData:function(){l({type:"CLEAN_UNPROCESSED_ITEMS"})}};return te("returns"),r.a.createElement(re.Provider,{value:k},t);function w(){return(w=Object(d.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(O.connected),!O.connected){e.next=22;break}return te("saveItem started"),l({type:"SAVE_ITEM_STARTED"}),e.next=7,o.get({key:"token"});case 7:return n=e.sent,e.next=10,t._id?A(null===n||void 0===n?void 0:n.value,t):C(null===n||void 0===n?void 0:n.value,t);case 10:return a=e.sent,y(a._id),e.next=14,_(null===n||void 0===n?void 0:n.value);case 14:return r=e.sent,console.log(r),e.next=18,o.set({key:"items",value:JSON.stringify(r)});case 18:te("saveItem succeeded"),l({type:"SAVE_ITEM_SUCCEEDED",payload:{item:a}}),e.next=23;break;case 22:l({type:"SAVE_UNPROCESSED_ITEM",payload:{item:t}});case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),te("saveItem failed"),l({type:"SAVE_ITEM_FAILED",payload:{error:e.t0}});case 29:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}},ce=E("ItemList"),ie=function(e){var t=e.history,n=Object(a.useState)(void 0),o=Object(p.a)(n,2),c=o[0],i=o[1],s=Object(a.useContext)(re),l=s.items,h=s.fetching,E=s.fetchingError,b=s.unsavedData,j=s.clearUnsavedData,g=s.saveItem,O=Object(a.useState)(l),y=Object(p.a)(O,2),k=y[0],w=y[1],x=Object(a.useState)(""),S=Object(p.a)(x,2),_=S[0],C=S[1],A=Object(a.useContext)(M).storage,D=ee(),I=D.photos,T=D.deletePhoto,P=(D.takePhoto,D.tempPhotos,[]),N=Object(a.useState)(),F=Object(p.a)(N,2),U=F[0],L=F[1],J=W().networkStatus;K((function(){return new Promise(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(J.connected),J.connected&&(console.log({unsavedData:b}),null===b||void 0===b||b.map(function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=3;break}return e.next=3,g(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j(),console.log({unsavedData:b}),console.log("My Background Task"),t());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Object(a.useEffect)((function(){l?(console.log(l),w(l)):A.get({key:"items"}).then((function(e){console.log(null===e||void 0===e?void 0:e.value),P=JSON.parse(null===e||void 0===e?void 0:e.value),w(P)}))}),[l]),ce("render");var R=Object(a.useContext)(M).logout;function B(){return(B=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],l?(console.log(l),null===l||void 0===l||l.filter((function(e){var t=Object.assign({},e);t.breed===c&&n.push(t)})),w(n)):k&&(console.log(P),null===k||void 0===k||k.filter((function(e){var t=Object.assign({},e);t.breed===c&&n.push(t)})),w(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){B.apply(this,arguments)}(!0)}),[c]),r.a.createElement(u.s,null,r.a.createElement(u.k,null,r.a.createElement(u.A,null,r.a.createElement(u.z,null,"Item List"),r.a.createElement(u.i,{onClick:function(){ce("handleLogout..."),null===R||void 0===R||R()}},r.a.createElement(u.l,{icon:v.k})))),r.a.createElement(u.g,null,r.a.createElement(u.r,{isOpen:h,message:"Fetching items"}),r.a.createElement(u.x,{value:c,placeholder:"Select smthg",onIonChange:function(e){return i(e.detail.value)}},k&&(null===k||void 0===k?void 0:k.map((function(e){var t=e._id,n=e.breed;return r.a.createElement(u.y,{key:t,value:n},n)})))),r.a.createElement(u.i,{onClick:function(){l?w(l):A.get({key:"items"}).then((function(e){console.log(null===e||void 0===e?void 0:e.value),P=JSON.parse(null===e||void 0===e?void 0:e.value),w(P)}))}},r.a.createElement(u.l,{icon:v.i})),r.a.createElement(u.w,{value:_,debounce:1e3,onIonChange:function(e){return C(e.detail.value)}}),k&&r.a.createElement(u.q,null,k.filter((function(e){e._id;return e.text.indexOf(_)>=0})).map((function(e){var n=e._id,a=e.text,o=e.breed;return r.a.createElement(m,{key:n,_id:n,text:a,onEdit:function(e){return t.push("/item/".concat(e))},breed:o,photos:I})}))),E&&r.a.createElement("div",null,E.message||"Failed to fetch items"),r.a.createElement(u.h,{vertical:"bottom",horizontal:"end",slot:"fixed"},r.a.createElement(u.i,{onClick:function(){return t.push("/item")}},r.a.createElement(u.l,{icon:v.a}))),r.a.createElement(u.a,{isOpen:!!U,buttons:[{text:"Delete",role:"destructive",icon:v.r,handler:function(){U&&(T(U),L(void 0))}},{text:"Cancel",icon:v.g,role:"cancel"}],onDidDismiss:function(){return L(void 0)}})))},ue=E("ItemEdit"),se=function(e){var t=e.history,n=e.match,o=Object(a.useContext)(re),c=o.items,i=o.saving,s=o.savingError,l=o.saveItem,f=Object(a.useState)(""),d=Object(p.a)(f,2),m=d[0],h=d[1],E=Object(a.useState)(""),b=Object(p.a)(E,2),j=b[0],g=b[1],O=Object(a.useState)(),y=Object(p.a)(O,2),w=y[0],x=y[1],S=(W().networkStatus,ee()),_=(S.photos,S.takePhoto),C=S.tempPhotos;K((function(){return new Promise((function(e){console.log("My Background Task"),e()}))})),Object(a.useEffect)((function(){ue("useEffect");var e=n.params.id||"",t=null===c||void 0===c?void 0:c.find((function(t){return t._id===e}));x(t),t&&(h(t.text),g(t.breed))}),[n.params.id,c]);return ue("render"),r.a.createElement(u.s,null,r.a.createElement(u.k,null,r.a.createElement(u.A,null,r.a.createElement(u.z,null,"Edit"),r.a.createElement(u.e,{slot:"end"},r.a.createElement(u.d,{onClick:function(){console.log({text:m,breed:j,photos:C});var e=w?Object(k.a)(Object(k.a)({},w),{},{text:m,breed:j,photos:C}):{text:m,breed:j,photos:C};l&&l(e).then((function(){return t.push("/items")}))}},"Save")))),r.a.createElement(u.g,null,r.a.createElement(u.p,null,"description"),r.a.createElement(u.n,{value:m,onIonChange:function(e){return h(e.detail.value||"")}}),r.a.createElement(u.p,null,"breed"),r.a.createElement(u.n,{value:j,onIonChange:function(e){return g(e.detail.value||"")}}),r.a.createElement(u.j,null,r.a.createElement(u.v,null,C.map((function(e,t){return r.a.createElement(u.f,{size:"6",key:t},r.a.createElement(u.m,{src:e.webviewPath}))})))),r.a.createElement(u.h,{vertical:"bottom",horizontal:"center",slot:"fixed"},r.a.createElement(u.i,{onClick:function(){return _()}},r.a.createElement(u.l,{icon:v.c}))),r.a.createElement(u.r,{isOpen:i}),s&&r.a.createElement("div",null,s.message||"Failed to save item")))},le=(n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),function(){return r.a.createElement(u.c,null,r.a.createElement(s.a,null,r.a.createElement(u.u,null,r.a.createElement(U,null,r.a.createElement(i.b,{path:"/login",component:G,exact:!0}),r.a.createElement(oe,null,r.a.createElement(R,{path:"/items",component:ie,exact:!0}),r.a.createElement(R,{path:"/item",component:se,exact:!0}),r.a.createElement(R,{path:"/item/:id",component:se,exact:!0})),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/items"})}})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(73);Object(fe.a)(window),c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,n){e.exports=n(119)},84:function(e,t,n){var a={"./ion-action-sheet.entry.js":[121,7],"./ion-alert.entry.js":[122,8],"./ion-app_8.entry.js":[123,9],"./ion-avatar_3.entry.js":[124,20],"./ion-back-button.entry.js":[125,21],"./ion-backdrop.entry.js":[126,45],"./ion-button_2.entry.js":[127,22],"./ion-card_5.entry.js":[128,23],"./ion-checkbox.entry.js":[129,24],"./ion-chip.entry.js":[130,25],"./ion-col_3.entry.js":[131,46],"./ion-datetime_3.entry.js":[132,12],"./ion-fab_3.entry.js":[133,26],"./ion-img.entry.js":[134,47],"./ion-infinite-scroll_2.entry.js":[135,48],"./ion-input.entry.js":[136,27],"./ion-item-option_3.entry.js":[137,28],"./ion-item_8.entry.js":[138,29],"./ion-loading.entry.js":[139,30],"./ion-menu_3.entry.js":[140,31],"./ion-modal.entry.js":[141,10],"./ion-nav_2.entry.js":[142,17],"./ion-popover.entry.js":[143,11],"./ion-progress-bar.entry.js":[144,32],"./ion-radio_2.entry.js":[145,33],"./ion-range.entry.js":[146,34],"./ion-refresher_2.entry.js":[147,13],"./ion-reorder_2.entry.js":[148,19],"./ion-ripple-effect.entry.js":[149,49],"./ion-route_4.entry.js":[150,35],"./ion-searchbar.entry.js":[151,36],"./ion-segment_2.entry.js":[152,37],"./ion-select_3.entry.js":[153,38],"./ion-slide_2.entry.js":[154,50],"./ion-spinner.entry.js":[155,15],"./ion-split-pane.entry.js":[156,51],"./ion-tab-bar_2.entry.js":[157,39],"./ion-tab_2.entry.js":[158,18],"./ion-text.entry.js":[159,40],"./ion-textarea.entry.js":[160,41],"./ion-toast.entry.js":[161,42],"./ion-toggle.entry.js":[162,14],"./ion-virtual-scroll.entry.js":[163,52]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=84,e.exports=r},86:function(e,t,n){var a={"./ion-icon.entry.js":[167,67]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=86,e.exports=r}},[[78,3,6]]]);
//# sourceMappingURL=main.90b9ffa4.chunk.js.map